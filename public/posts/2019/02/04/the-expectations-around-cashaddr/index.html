<!DOCTYPE html>
<html lang=en>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="When CashAddr was introduced, my expectation for that address format was that it would replace the legacy Base58Check encoding in all its uses. The same way Bitcoin historically had addresses starti">
<meta property="og:type" content="article">
<meta property="og:title" content="The expectations around CashAddr">
<meta property="og:url" content="http://m4ktub.ws/posts/2019/02/04/the-expectations-around-cashaddr/index.html">
<meta property="og:site_name" content="m4ktub">
<meta property="og:description" content="When CashAddr was introduced, my expectation for that address format was that it would replace the legacy Base58Check encoding in all its uses. The same way Bitcoin historically had addresses starti">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://m4ktub.ws/posts/2019/02/04/the-expectations-around-cashaddr/cashaddr.png">
<meta property="article:published_time" content="2019-02-04T00:00:00.000Z">
<meta property="article:modified_time" content="2019-11-13T12:14:29.397Z">
<meta property="article:author" content="Cláudio Gil">
<meta property="article:tag" content="cashaddr">
<meta property="article:tag" content="specification">
<meta property="article:tag" content="expectations">
<meta property="article:tag" content="cashaccounts">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://m4ktub.ws/posts/2019/02/04/the-expectations-around-cashaddr/cashaddr.png">
    
    
        
          
              <link rel="shortcut icon" href="https://www.gravatar.com/avatar/fc84e72c571a668dd413a18f92edecd7?s=16">
          
        
        
          
            <link rel="icon" type="image/png" href="https://www.gravatar.com/avatar/fc84e72c571a668dd413a18f92edecd7?s=192" sizes="192x192">
          
        
        
          
            <link rel="apple-touch-icon" sizes="180x180" href="https://www.gravatar.com/avatar/fc84e72c571a668dd413a18f92edecd7?s=180">
          
        
    
    <!-- title -->
    <title>The expectations around CashAddr</title>
    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
      
<link rel="stylesheet" href="/css/rtl.css">

    
    <!-- rss -->
    
    
      <link rel="alternate" href="/atom.xml" title="m4ktub" type="application/atom+xml" />
    
<meta name="generator" content="Hexo 6.3.0"></head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="/categories/">Category</a></li>
         
          <li><a href="/tags/">Tag</a></li>
         
          <li><a href="/about/">About</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" href="/posts/2019/02/22/privacy-your-consent-is-not-needed/"><i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" href="/posts/2019/01/19/ownership-vs-possession/"><i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" href="#"><i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=http://m4ktub.ws/posts/2019/02/04/the-expectations-around-cashaddr/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=http://m4ktub.ws/posts/2019/02/04/the-expectations-around-cashaddr/&text=The expectations around CashAddr"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=http://m4ktub.ws/posts/2019/02/04/the-expectations-around-cashaddr/&title=The expectations around CashAddr"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=http://m4ktub.ws/posts/2019/02/04/the-expectations-around-cashaddr/&is_video=false&description=The expectations around CashAddr"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=The expectations around CashAddr&body=Check out this article: http://m4ktub.ws/posts/2019/02/04/the-expectations-around-cashaddr/"><i class="fas fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=http://m4ktub.ws/posts/2019/02/04/the-expectations-around-cashaddr/&title=The expectations around CashAddr"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=http://m4ktub.ws/posts/2019/02/04/the-expectations-around-cashaddr/&title=The expectations around CashAddr"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=http://m4ktub.ws/posts/2019/02/04/the-expectations-around-cashaddr/&title=The expectations around CashAddr"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=http://m4ktub.ws/posts/2019/02/04/the-expectations-around-cashaddr/&title=The expectations around CashAddr"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=http://m4ktub.ws/posts/2019/02/04/the-expectations-around-cashaddr/&name=The expectations around CashAddr&description="><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      
    </div>
  </span>
</div>

    
    <div class="content index py4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        The expectations around CashAddr
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">m4ktub</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2019-02-04T00:00:00.000Z" itemprop="datePublished">2019-02-04</time>
        
      
    </div>


      
    <div class="article-category">
        <i class="fas fa-archive"></i>
        <a class="category-link" href="/categories/projects/">projects</a>
    </div>


      
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link-link" href="/tags/cashaccounts/" rel="tag">cashaccounts</a>, <a class="tag-link-link" href="/tags/cashaddr/" rel="tag">cashaddr</a>, <a class="tag-link-link" href="/tags/expectations/" rel="tag">expectations</a>, <a class="tag-link-link" href="/tags/specification/" rel="tag">specification</a>
    </div>


    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <img src="/posts/2019/02/04/the-expectations-around-cashaddr/cashaddr.png" class="">

<p>When <a target="_blank" rel="noopener" href="https://www.bitcoinabc.org/2018-01-14-CashAddr/">CashAddr</a> was introduced, my expectation for that address format was that it would replace the legacy Base58Check encoding in all its uses. The same way Bitcoin historically had addresses starting with 1 and 3, Bitcoin Cash would have addresses starting with q and p.</p>
<p>From early on, it was obvious that most of the ecosystem had adopted CashAddr for standard addresses but had preserved support for legacy addresses and, in particular, continued to use the legacy encoding in paper wallets, for example. My rationalization for that was that the effort was probably not worth it, but never have I questioned the ability to use CashAddr in those cases.</p>
<p>Recently when Cash Accounts was announced, a lot of excitement was generated around it. In particular, I was excited with the possibility that wallets, like Copay, could support Cash Accounts together with stealth addresses or payment codes. It was obvious that any such address would be a CashAddr like “bitcoincash:something” or, at least, “stealth:somethingelse”. You would be able to scan those directly or just type Cash Accounts, which would be a simple way of achieving the same.</p>
<p>But the expectations I had for CashAddr started to be broken when Jonathan Silverblood <a target="_blank" rel="noopener" href="https://twitter.com/monsterbitar/status/1078931367994494976">mentioned CashAddr could not encode a payment code</a>, that is, that it could not be used to represent those addresses. When I looked at the specification, with more detail, I finally realized that it had been defined in a very specific way that was not really reusable.</p>
<p>The last thing I wanted was another Copay address like Csomethingagain so I started a <a target="_blank" rel="noopener" href="https://github.com/bitcoincashorg/bitcoincash.org/pull/259">revision of the specification</a>. After reading it, it seemed there was a simple way to make it more general and, at the same time, make it clearer how it could be used to encode anything we could perceive as addresses.</p>
<p>But by trying to review the specification I’ve also found that not only it had been defined in a non-reusable way but it also had been done so on purpose as <a target="_blank" rel="noopener" href="https://twitter.com/m4ktub2/status/1085934444509384709">the intended use was different than what I expected</a>. Boom! Minder shattered.</p>
<p>The idea is that “bitcoincash:…” addresses only represent the direct forms of payment that we know and that all other payment use cases should use a different prefix. Taking a step back and letting go of my previous approach, I can see the logic. It would be ok to have something like stealth… or paymentcode:… but the specification was ambiguous and inconsistent which actually made it impossible to interpret it that way. So I did <a target="_blank" rel="noopener" href="https://github.com/bitcoincashorg/bitcoincash.org/pull/266">another revision</a> with that approach in mind…</p>
<p>The goal with all this is to have a well defined specification that is reusable for all sort of addresses. Ideally the revision would be a version 1.1, that is, a minor change that keeps everything compatible but that’s not quite possible due to how version 1.0 was written. Luckily, practice does not match theory. Most libraries implement CashAddr in a very narrow way. On the one hand, those libraries don’t implement the specification correctly. On the other hand, that possibly allows a version 1.1 (or 2.0, if we want to be correct with the semantics) to be made since those libraries would not be affected in practice. Nothing that is working would fail, the libraries would just be broken in a different way, which is curious… at least to me.</p>

  </div>
</article>



        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="/categories/">Category</a></li>
         
          <li><a href="/tags/">Tag</a></li>
         
          <li><a href="/about/">About</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=http://m4ktub.ws/posts/2019/02/04/the-expectations-around-cashaddr/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=http://m4ktub.ws/posts/2019/02/04/the-expectations-around-cashaddr/&text=The expectations around CashAddr"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=http://m4ktub.ws/posts/2019/02/04/the-expectations-around-cashaddr/&title=The expectations around CashAddr"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=http://m4ktub.ws/posts/2019/02/04/the-expectations-around-cashaddr/&is_video=false&description=The expectations around CashAddr"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=The expectations around CashAddr&body=Check out this article: http://m4ktub.ws/posts/2019/02/04/the-expectations-around-cashaddr/"><i class="fas fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=http://m4ktub.ws/posts/2019/02/04/the-expectations-around-cashaddr/&title=The expectations around CashAddr"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=http://m4ktub.ws/posts/2019/02/04/the-expectations-around-cashaddr/&title=The expectations around CashAddr"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=http://m4ktub.ws/posts/2019/02/04/the-expectations-around-cashaddr/&title=The expectations around CashAddr"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=http://m4ktub.ws/posts/2019/02/04/the-expectations-around-cashaddr/&title=The expectations around CashAddr"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=http://m4ktub.ws/posts/2019/02/04/the-expectations-around-cashaddr/&name=The expectations around CashAddr&description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> Share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy; 2023 Cláudio Gil
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="/categories/">Category</a></li>
         
          <li><a href="/tags/">Tag</a></li>
         
          <li><a href="/about/">About</a></li>
        
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->

<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">


<link rel="stylesheet" href="/lib/justified-gallery/css/justifiedGallery.min.css">


    <!-- jquery -->

<script src="/lib/jquery/jquery.min.js"></script>


<script src="/lib/justified-gallery/js/jquery.justifiedGallery.min.js"></script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Google Analytics -->

<!-- Baidu Analytics -->

<!-- Disqus Comments -->


</body>
</html>
